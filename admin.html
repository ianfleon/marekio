<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marekio</title>
    <link rel="stylesheet" href="/libs/onsenui/css/onsenui.css">
    <link rel="stylesheet" href="/libs/onsenui/css/onsen-css-components.min.css">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/css/form.css">
    <link rel="stylesheet" href="/css/card.css">
    <script src="/libs/onsenui/js/onsenui.min.js"></script>
    <script src="/libs/jquery/jquery.min.js"></script>
</head>

<body>

    <!-- # Main Navigator -->
    <ons-navigator swipeable id="appNavigator">
        <ons-page>
            <ons-splitter id="appSplitter">
                <ons-splitter-content page="tabbar.html"></ons-splitter-content>
            </ons-splitter>
        </ons-page>
    </ons-navigator>
    <!-- // Main Navigator -->

    <!-- # Tabbar -->
    <template id="tabbar.html">
        <ons-page id="tabbar">
            <ons-tabbar animation="slide">
                <ons-tab page="produk.html" icon="md-home" label="Produk">
                </ons-tab>
                <ons-tab page="orderan.html" icon="md-receipt" label="Orderan">
                </ons-tab>
            </ons-tabbar>
        </ons-page>
    </template>
    <!-- // Tabbar -->

    <!-- # Form Produk -->
    <template id="form-produk.html">
        <ons-page id="form-produk">
            <ons-toolbar>
                <div class="left">
                    <ons-back-button>Kembali</ons-back-button>
                </div>
                <div class="center">Form Produk</div>
                <div class="right">
                    <ons-toolbar-button id="btn_save">Simpan</ons-toolbar-button>
                </div>
            </ons-toolbar>
            <div class="content">
                <ons-card>
                    <form id="form_product">
                        <div class="mb-4">
                            <input class="form-input" type="text" name="product_nama"
                                placeholder="Nama Makanan / Minuman" />
                        </div>
                        <div class="mb-4">
                            <input class="form-input" name="product_harga" type="number" placeholder="Harga" />
                        </div>
                        <div class="mb-4">
                            <textarea class="form-input" name="product_desc" rows="12"
                                placeholder="Deskripsi"></textarea>
                        </div>
                        <div class="mb-4">
                            <img id="imgpreview" class="d-none w-100" />
                            <input type="file" onchange="previewImage(this)" id="imgupload" accept="image/*"
                                name="product_img" class="d-none"/>
                            <ons-button modifier="large" id="btn_upload_img">Upload Gambar</ons-button>
                        </div>
                    </form>
                </ons-card>
            </div>
            <script src="/js/form-product.js"></script>
        </ons-page>
    </template>
    <!-- // Form Produk -->

    <!-- # Produk Page -->
    <template id="produk.html">
        <ons-page id="produk">

            <ons-toolbar>
                <div class="center">Produk</div>
                <div class="right">
                    <ons-toolbar-button onclick="fn.pushPage({'id': 'form-produk.html', 'title': 'Tambah Produk'})">
                        Tambah</ons-toolbar-button>
                </div>
            </ons-toolbar>

            <ons-pull-hook id="pull-hook"></ons-pull-hook>
            <section id="product_card_wraper"></section>

            <script src="/js/produk.js"></script>
        
        </ons-page>
    </template>

    <!-- # Detail Produk Page -->
    <template id="produk-detail.html">
        <ons-page id="produk-detail">
            <ons-toolbar>
                <div class="left">
                    <ons-back-button>Kembali</ons-back-button>
                </div>
                <div class="center">
                    Detail
                </div>
                <div class="right">
                    <ons-toolbar-button icon="md-more-vert" id="info-button" onclick="fn.showDialog('popover-dialog')">
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>
            <section id="product_detail_content"></section>
            <ons-popover id="popover-dialog" cancelable direction="down" cover-target target="#info-button">
                <ons-list id="popover-list">
                    <ons-list-item class="more-options" tappable onclick="fn.hideDialog('popover-dialog')">
                        <div class="center" onclick="fn.pushPage({'id': 'form-produk.html', 'act' : 'PullHook'})">Edit
                        </div>
                    </ons-list-item>
                    <ons-list-item class="more-options" tappable onclick="fn.hideDialog('popover-dialog')">
                        <div class="center" onclick="createAlertDialog()">Hapus</div>
                    </ons-list-item>
                </ons-list>
            </ons-popover>
            <ons-alert-dialog id="my-alert-dialog" modifier="rowfooter">
                <div class="alert-dialog-content">
                    Ingin hapus produk ini?
                </div>
                <div class="alert-dialog-footer">
                    <ons-alert-dialog-button onclick="hideAlertDialog()">Cancel</ons-alert-dialog-button>
                    <ons-alert-dialog-button onclick="deleteProduct(localStorage.getItem('product_id'))">OK</ons-alert-dialog-button>
                </div>
            </ons-alert-dialog>
            <script src="/js/produk-detail.js"></script>
        </ons-page>
    </template>

    <!-- # Orderan Page -->
    <template id="orderan.html">
        <ons-page id="orderan">
            <ons-toolbar>
                <div class="center">Orderan</div>
            </ons-toolbar>
            <ons-tabbar swipeable position="top">
                <ons-tab page="orderan-proses.html" label="Proses" active>
                </ons-tab>
                <ons-tab page="orderan-diantar.html" label="Diantar">
                </ons-tab>
                <ons-tab page="orderan-selesai.html" label="Selesai">
                </ons-tab>
            </ons-tabbar>
        </ons-page>
    </template>

    <template id="orderan-proses.html">
        <ons-page id="orderan-proses">
            <ons-card class="card-orderan" tappable
                onclick="fn.pushPage({'id': 'detail-pesanan.html', 'Pesanan #IUS871287A': 'PullHook'})">
                <span class="notification">3</span>
                <div class="title">
                    Pesanan #8912YIAS
                </div>
                <div class="content">
                    <p><b>Nacut</b></p>
                    <p>081209984791</p>
                    <p>Jln. Belmes; Dekat benteng hila</p>
                </div>
            </ons-card>
            <ons-card class="card-orderan" tappable
                onclick="fn.pushPage({'id': 'detail-pesanan.html', 'Pesanan #IUS871287A': 'PullHook'})">
                <span class="notification">1</span>
                <div class="title">
                    Pesanan #8912YIAS
                </div>
                <div class="content">
                    <p><b>Nacut</b></p>
                    <p>081209984791</p>
                    <p>Jln. Belmes; Dekat benteng hila</p>
                </div>
            </ons-card>
        </ons-page>
    </template>

    <template id="orderan-diantar.html">
        <ons-page id="orderan-diantar">
            <p>Diantar..</p>
        </ons-page>
    </template>
    <!-- // Orderan Diantar Page -->

    <template id="orderan-proses.html">
        <ons-page id="orderan-proses">
            <ons-card class="card-orderan" tappable
                onclick="fn.pushPage({'id': 'detail-pesanan.html', 'Pesanan #IUS871287A': 'PullHook'})">
                <span class="notification">3</span>
                <div class="title">
                    Pesanan #8912YIAS
                </div>
                <div class="content">
                    <p><b>Nacut</b></p>
                    <p>081209984791</p>
                    <p>Jln. Belmes; Dekat benteng hila</p>
                </div>
            </ons-card>
            <ons-card class="card-orderan" tappable
                onclick="fn.pushPage({'id': 'detail-pesanan.html', 'Pesanan #IUS871287A': 'PullHook'})">
                <span class="notification">1</span>
                <div class="title">
                    Pesanan #8912YIAS
                </div>
                <div class="content">
                    <p><b>Nacut</b></p>
                    <p>081209984791</p>
                    <p>Jln. Belmes; Dekat benteng hila</p>
                </div>
            </ons-card>
        </ons-page>
    </template>

    <template id="orderan-selesai.html">
        <ons-page id="orderan-selesai">
            Pesanan selesai
        </ons-page>
    </template>
    <!-- // Orderan Page -->

    <!-- # Detail Pesanan -->
    <template id="detail-pesanan.html">
        <ons-page id="detail-pesanan">
            <ons-toolbar>
                <div class="left">
                    <ons-back-button>Kembali</ons-back-button>
                </div>
                <div class="center">Pesanan</div>
                <div class="right">
                    <ons-toolbar-button icon="md-more-vert" onclick="fn.showDialog('popover-dialog-detail-pesanan')">
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>
            <ons-card>
                <h4>Invoice #1298SAU</h4>
                <ons-list>
                    <ons-list-item>
                        <div class="left">
                            <img class="list-item__thumbnail" src="https://placekitten.com/g/40/40">
                        </div>
                        <div class="center">
                            <span class="list-item__title">Nasi Padang</span><span class="list-item__subtitle">2 x
                                15.000</span>
                        </div>
                    </ons-list-item>
                </ons-list>
            </ons-card>
            <ons-popover id="popover-dialog-detail-pesanan" cancelable direction="down" cover-target
                target="#info-button">
                <ons-list id="popover-list">
                    <ons-list-item class="more-options" tappable onclick="fn.hideDialog('popover-dialog')">
                        <div class="center" onclick="fn.pushPage({'id': 'form-produk.html', 'act' : 'PullHook'})">Antar
                        </div>
                    </ons-list-item>
                    <ons-list-item class="more-options" tappable onclick="fn.hideDialog('popover-dialog')">
                        <div class="center">Batal</div>
                    </ons-list-item>
                </ons-list>
            </ons-popover>
            <script>
                var infoButton = document.getElementById('info-button');
                window.fn.showDialog = function (id) {
                    var elem = document.getElementById(id);
                    if (id === 'popover-dialog') {
                        elem.show(infoButton);
                    } else {
                        elem.show();
                        if (id === 'modal-dialog') {
                            clearTimeout(timeoutID);
                            timeoutID = setTimeout(function () {
                                fn.hideDialog(id)
                            }, 2000);
                        }
                    }
                };
                window.fn.hideDialog = function (id) {
                    document.getElementById(id).hide();
                };
            </script>
        </ons-page>
    </template>
    <!-- // Detail Pesanan -->

    <template id="konfirmasi-pesanan-asheet.html">
        <ons-action-sheet id="sheet" cancelable title="From template">
            <ons-action-sheet-button icon="md-square-o">Label</ons-action-sheet-button>
            <ons-action-sheet-button icon="md-square-o">Label</ons-action-sheet-button>
            <ons-action-sheet-button icon="md-square-o" modifier="destructive">Label
            </ons-action-sheet-button>
            <ons-action-sheet-button icon="md-close">Cancel</ons-action-sheet-button>
        </ons-action-sheet>
    </template>

    <script>
        document.addEventListener('init', function (event) {

            // Current Page Active
            var page = event.target;
            var app = {};

        });
    </script>

    <script src="/js/main.js"></script>

</body>

</html>